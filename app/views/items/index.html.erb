<% provide(:title, 'All items') %>

<div class="row">
  <div class="col-md-offset-2 col-md-8">
    <div class="row"><h1>All items</h1></div>
    <div class="row">
      <%= form_tag items_path, method: 'get', id: "items_search" do %>

      <%= text_field_tag :search, params[:search], class: "form-control" %>
      <%= submit_tag "Search", class: "btn btn-primary", name: nil -%>
      <%= link_to "New", new_item_path, class: 'btn btn-default', role: 'button' -%>
      <%= link_to "Print", print_items_path(query: params[:search]), class: 'btn btn-default', target: '_blank', role: 'button' %>
    </div>
    <div class="row">
      <div class="items">
        <table class="table table-striped">
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Category</th>
            <th>Rarity</th>
            <th>Attunement</th>
            <th colspan="99"></th>
          </tr>
          <%= render @items %>
        </table>
        
        <%= render partial: 'modal', collection: @items, as: :item %>
      </div>

      <%= will_paginate %>
    </div>
    <% end %>
  </div>
</div>
