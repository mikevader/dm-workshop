<%= render 'shared/error_messages', object: f.object %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :name, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:name, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= content_tag :div, class: 'col-sm-offset-3 col-sm-9' do %>
        <%= content_tag :div, class: 'checkbox' do %>
            <%= f.label :shared do %>
                <%= f.check_box(:shared) %>Shared
            <% end %>
        <% end %>
        <%= content_tag(:span, id: 'content_help', class: 'help-block') do -%>
            Will be shared with other users.
        <% end %>
    <% end %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :cite, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:cite, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :challenge, class: 'control-label col-sm-3' %>
    <%= content_tag :div, class: 'col-sm-9' do -%>
        <%= f.select(:challenge, Monster.cr_xp_bonus.collect{|key, value| [raw(sprintf("%4s (%7d XP, %+2d bonus )", Monster.challenge_pretty(key), value[:xp], value[:bonus]).gsub(/ /, '&nbsp;')), key.to_f]}, {}, {class: 'form-control'}) %>
    <% end -%>
<% end -%>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :size, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:size, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :monster_type, 'Type', class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:monster_type, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :alignment, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:alignment, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :armor_class, 'AC', class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:armor_class, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :hit_points, 'HP', class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:hit_points, class: 'form-control', type: 'number'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :speed, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:speed, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label 'Abilities', class: 'control-label col-sm-3' %>
    <%= content_tag :div, class: 'col-sm-9' do -%>
        <%= content_tag :div, class: 'row small-padding' do -%>
            <%= f.label :strength, 'STR', class: 'control-label col-sm-2' %>
            <%= f.label :dexterity, 'DEX', class: 'control-label col-sm-2' %>
            <%= f.label :constitution, 'CON', class: 'control-label col-sm-2' %>
            <%= f.label :intelligence, 'INT', class: 'control-label col-sm-2' %>
            <%= f.label :wisdom, 'WIS', class: 'control-label col-sm-2' %>
            <%= f.label :charisma, 'CHA', class: 'control-label col-sm-2' %>
        <% end %>
        <%= content_tag :div, class: 'row small-padding' do -%>
            <%= content_tag(:div, f.text_field(:strength, class: 'form-control col-sm-3', type: 'number'), class: 'col-sm-2') %>
            <%= content_tag(:div, f.text_field(:dexterity, class: 'form-control', type: 'number'), class: 'col-sm-2') %>
            <%= content_tag(:div, f.text_field(:constitution, class: 'form-control', type: 'number'), class: 'col-sm-2') %>
            <%= content_tag(:div, f.text_field(:intelligence, class: 'form-control', type: 'number'), class: 'col-sm-2') %>
            <%= content_tag(:div, f.text_field(:wisdom, class: 'form-control', type: 'number'), class: 'col-sm-2') %>
            <%= content_tag(:div, f.text_field(:charisma, class: 'form-control', type: 'number'), class: 'col-sm-2') %>
        <% end %>
    <% end %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :saving_throws, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.collection_select(:saving_throws, Monster::ABILITIES, :to_s, :titleize, {}, {class: 'form-control', size: 6, multiple: true}), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :cards_skills, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, class: 'col-sm-9') do %>
        <%= f.fields_for :cards_skills do |monsters_skill| %>
            <%= render 'cards_skill_fields', f: monsters_skill %>
        <% end %>
        <%= link_to_add_fields 'Add Skill', f, :cards_skills %>
    <% end %>
<% end %>


<%= content_tag :div, class: 'form-group' do -%>
    <% collapse_in = !f.object.damage_vulnerabilities.empty? %>
    <% collapse_in_class = (collapse_in) ? ' in' : '' %>
    <%= f.label :damage_vulnerabilities, class: 'control-label col-sm-3' do -%>
        <%= link_to 'Vulnerabilities', '#collapseVulnerabilities', role: 'button', 'data-toggle' => 'collapse', 'aria-controls' => 'collapseVulnerabilities', 'aria-expanded' => collapse_in %>
    <% end -%>
    <%= content_tag(:div, f.collection_select(:damage_vulnerabilities, Monster::DAMAGE_TYPES, :to_s, :titleize, {}, {class: 'form-control', size: Monster::DAMAGE_TYPES.count, multiple: true}), class: "col-sm-9 collapse#{collapse_in_class}", id: 'collapseVulnerabilities') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <% collapse_in = !f.object.damage_resistances.empty? %>
    <% collapse_in_class = (collapse_in) ? ' in' : '' %>
    <%= f.label :damage_resistances, class: 'control-label col-sm-3' do -%>
        <%= link_to 'Resistances', '#collapseResistances', role: 'button', 'data-toggle' => 'collapse', 'aria-controls' => 'collapseResistances', 'aria-expanded' => collapse_in %>
    <% end -%>
    <%= content_tag(:div, f.collection_select(:damage_resistances, Monster::DAMAGE_TYPES, :to_s, :titleize, {}, {class: 'form-control', size: Monster::DAMAGE_TYPES.count, multiple: true}), class: "col-sm-9 collapse#{collapse_in_class}", id: 'collapseResistances') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <% collapse_in = !f.object.damage_immunities.empty? %>
    <% collapse_in_class = (collapse_in) ? ' in' : '' %>
    <%= f.label :damage_immunities, class: 'control-label col-sm-3' do -%>
        <%= link_to 'Dmg Immunities', '#collapseDmgImmunities', role: 'button', 'data-toggle' => 'collapse', 'aria-controls' => 'collapseDmgImmunities', 'aria-expanded' => collapse_in %>
    <% end -%>
    <%= content_tag(:div, f.collection_select(:damage_immunities, Monster::DAMAGE_TYPES, :to_s, :titleize, {}, {class: 'form-control', size: Monster::DAMAGE_TYPES.count, multiple: true}), class: "col-sm-9 collapse#{collapse_in_class}", id: 'collapseDmgImmunities') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <% collapse_in = !f.object.cond_immunities.empty? %>
    <% collapse_in_class = (collapse_in) ? ' in' : '' %>
    <%= f.label :cond_immunities, class: 'control-label col-sm-3' do -%>
        <%= link_to 'Cond Immunities', '#collapseCondImmunities', role: 'button', 'data-toggle' => 'collapse', 'aria-controls' => 'collapseCondImmunities', 'aria-expanded' => collapse_in %>
    <% end -%>
    <%= content_tag(:div, f.collection_select(:cond_immunities, Monster::CONDITIONS, :to_s, :titleize, {}, {class: 'form-control', size: Monster::CONDITIONS.count, multiple: true}), class: "col-sm-9 collapse#{collapse_in_class}", id: 'collapseCondImmunities') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :senses, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:senses, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :languages, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_field(:languages, class: 'form-control'), class: 'col-sm-9') %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :traits, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, class: 'col-sm-9') do %>
        <%= f.fields_for :traits do |trait| %>
            <%= render 'trait_fields', f: trait %>
        <% end %>
        <%= link_to_add_fields 'Add Trait', f, :traits %>
    <% end %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :actions, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, class: 'col-sm-9') do %>
        <%= f.fields_for :actions do |action| %>
            <%= render 'action_fields', f: action %>
        <% end %>
        <%= link_to_add_fields 'Add Action', f, :actions %>
    <% end %>
<% end %>

<%= content_tag :div, class: 'form-group' do -%>
    <%= f.label :description, class: 'control-label col-sm-3' %>
    <%= content_tag(:div, f.text_area(:description, class: 'form-control', rows: 10, style: ' white-space: pre-wrap;'), class: 'col-sm-9') %>
<% end %>

<%= render 'shared/tag_field', f: f %>
